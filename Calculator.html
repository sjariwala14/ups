<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Revenue Models Calculator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --success: #4cc9f0;
            --warning: #ffb800;
            --danger: #ff6b6b;
            --light: #f8f9fa;
            --dark: #212529;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f7fb;
            color: #333;
            padding-bottom: 2rem;
        }
        
        .dashboard-header {
            background: linear-gradient(120deg, var(--primary), var(--secondary));
            color: white;
            padding: 1.5rem 0;
            margin-bottom: 2rem;
            border-radius: 0 0 10px 10px;
        }
        
        .calculator-card {
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            background: white;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .revenue-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .revenue-table th, .revenue-table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }
        
        .revenue-table th {
            background-color: #f8f9fa;
            font-weight: 600;
        }
        
        .revenue-table tr:hover {
            background-color: #f8f9fa;
        }
        
        .target-input {
            width: 120px;
            padding: 0.375rem 0.75rem;
            border: 1px solid #ced4da;
            border-radius: 0.25rem;
            text-align: right;
        }
        
        .total-row {
            font-weight: bold;
            background-color: #e9ecef;
        }
        
        .progress {
            height: 8px;
            margin-bottom: 10px;
        }
        
        .chart-container {
            background-color: white;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            margin-bottom: 1.5rem;
        }
        
        .summary-card {
            background: linear-gradient(120deg, #4361ee, #3f37c9);
            color: white;
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .summary-value {
            font-size: 2.5rem;
            font-weight: 700;
            margin: 0.5rem 0;
        }
        
        .summary-label {
            font-size: 1rem;
            opacity: 0.9;
        }
        
        .instructions {
            background-color: #e9ecef;
            border-left: 4px solid var(--primary);
            padding: 1rem;
            border-radius: 5px;
            margin-bottom: 1.5rem;
        }
    </style>
</head>
<body>
    <header class="dashboard-header">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1><i class="fas fa-calculator me-2"></i>Revenue Models Calculator</h1>
                    <p class="lead">Adjust revenue targets and see how they impact your total annual revenue</p>
                </div>
                <div class="col-md-4 text-md-end">
                    <button class="btn btn-outline-light" id="resetBtn">
                        <i class="fas fa-sync-alt me-1"></i> Reset Values
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="instructions">
            <h4><i class="fas fa-info-circle me-2"></i>How to Use This Calculator</h4>
            <p class="mb-0">Adjust the revenue targets for each model using the input fields. The total annual revenue will update automatically. You can also see how each model contributes to the total revenue in the chart below.</p>
        </div>

        <div class="row">
            <div class="col-md-8">
                <div class="calculator-card">
                    <h3 class="mb-4">Revenue Models Breakdown</h3>
                    <div class="table-responsive">
                        <table class="revenue-table">
                            <thead>
                                <tr>
                                    <th>Model</th>
                                    <th>Description</th>
                                    <th>Target</th>
                                    <th>Annual Value (₹)</th>
                                    <th>Weight</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Model 1</td>
                                    <td>Site Assessment Tool</td>
                                    <td>
                                        <div class="input-group">
                                            <input type="number" class="target-input" id="model1-input" value="12" min="0" max="100" step="1">
                                            <span class="input-group-text">% increase</span>
                                        </div>
                                    </td>
                                    <td id="model1-value">₹9.60 L</td>
                                    <td>4.07%</td>
                                </tr>
                                <tr>
                                    <td>Model 2</td>
                                    <td>Digital Marketplace</td>
                                    <td>
                                        <div class="input-group">
                                            <span class="input-group-text">₹</span>
                                            <input type="number" class="target-input" id="model2-input" value="50" min="0" step="5">
                                            <span class="input-group-text">L</span>
                                        </div>
                                    </td>
                                    <td id="model2-value">₹50.00 L</td>
                                    <td>21.19%</td>
                                </tr>
                                <tr>
                                    <td>Model 3</td>
                                    <td>Sales Engineering Incentives</td>
                                    <td>
                                        <div class="input-group">
                                            <input type="number" class="target-input" id="model3-input" value="20" min="0" max="100" step="1">
                                            <span class="input-group-text">% lift</span>
                                        </div>
                                    </td>
                                    <td id="model3-value">₹14.40 L</td>
                                    <td>6.10%</td>
                                </tr>
                                <tr>
                                    <td>Model 4</td>
                                    <td>Technical Planning</td>
                                    <td>
                                        <div class="input-group">
                                            <input type="number" class="target-input" id="model4-input" value="15" min="0" max="100" step="1">
                                            <span class="input-group-text">% faster</span>
                                        </div>
                                    </td>
                                    <td id="model4-value">₹7.20 L</td>
                                    <td>3.05%</td>
                                </tr>
                                <tr>
                                    <td>Model 5</td>
                                    <td>Structured Education</td>
                                    <td>
                                        <div class="input-group">
                                            <span class="input-group-text">₹</span>
                                            <input type="number" class="target-input" id="model5-input" value="5" min="0" step="1">
                                            <span class="input-group-text">L/month</span>
                                        </div>
                                    </td>
                                    <td id="model5-value">₹60.00 L</td>
                                    <td>25.42%</td>
                                </tr>
                                <tr>
                                    <td>Model 6</td>
                                    <td>Subscription Plans</td>
                                    <td>
                                        <div class="input-group">
                                            <span class="input-group-text">₹</span>
                                            <input type="number" class="target-input" id="model6-input" value="10" min="0" step="1">
                                            <span class="input-group-text">L MRR</span>
                                        </div>
                                    </td>
                                    <td id="model6-value">₹120.00 L</td>
                                    <td>50.85%</td>
                                </tr>
                                <tr>
                                    <td>Model 7</td>
                                    <td>DIY Tools (Freemium)</td>
                                    <td>
                                        <div class="input-group">
                                            <span class="input-group-text">₹</span>
                                            <input type="number" class="target-input" id="model7-input" value="2" min="0" step="0.5">
                                            <span class="input-group-text">L/month</span>
                                        </div>
                                    </td>
                                    <td id="model7-value">₹24.00 L</td>
                                    <td>10.17%</td>
                                </tr>
                                <tr>
                                    <td>Model 8</td>
                                    <td>Certified Partner Program</td>
                                    <td>
                                        <div class="input-group">
                                            <span class="input-group-text">₹</span>
                                            <input type="number" class="target-input" id="model8-input" value="15" min="0" step="5">
                                            <span class="input-group-text">L</span>
                                        </div>
                                    </td>
                                    <td id="model8-value">₹15.00 L</td>
                                    <td>6.36%</td>
                                </tr>
                                <tr>
                                    <td>Model 9</td>
                                    <td>Data Analytics as a Service</td>
                                    <td>
                                        <div class="input-group">
                                            <span class="input-group-text">₹</span>
                                            <input type="number" class="target-input" id="model9-input" value="20" min="0" step="5">
                                            <span class="input-group-text">L/year</span>
                                        </div>
                                    </td>
                                    <td id="model9-value">₹20.00 L</td>
                                    <td>8.47%</td>
                                </tr>
                                <tr>
                                    <td>Model 10</td>
                                    <td>OEM White-Labeling</td>
                                    <td>
                                        <div class="input-group">
                                            <span class="input-group-text">₹</span>
                                            <input type="number" class="target-input" id="model10-input" value="100" min="0" step="10">
                                            <span class="input-group-text">L</span>
                                        </div>
                                    </td>
                                    <td id="model10-value">₹100.00 L</td>
                                    <td>42.37%</td>
                                </tr>
                                <tr>
                                    <td>Model 11</td>
                                    <td>Certification Academy</td>
                                    <td>
                                        <div class="input-group">
                                            <span class="input-group-text">₹</span>
                                            <input type="number" class="target-input" id="model11-input" value="3" min="0" step="1">
                                            <span class="input-group-text">L/quarter</span>
                                        </div>
                                    </td>
                                    <td id="model11-value">₹12.00 L</td>
                                    <td>5.08%</td>
                                </tr>
                                <tr class="total-row">
                                    <td colspan="3"><strong>Total Annual Revenue</strong></td>
                                    <td id="total-value"><strong>₹236.00 L</strong></td>
                                    <td><strong>100%</strong></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="summary-card">
                    <div class="summary-label">Total Annual Revenue</div>
                    <div class="summary-value" id="summary-value">₹2.36 Cr</div>
                    <div class="summary-label">from all revenue models</div>
                </div>
                
                <div class="chart-container">
                    <h4 class="mb-3">Revenue Distribution</h4>
                    <canvas id="revenueChart" height="300"></canvas>
                </div>
                
                <div class="calculator-card">
                    <h5>Calculation Method</h5>
                    <p class="small">The ₹2.36Cr total is calculated by converting all model targets to annual revenue values:</p>
                    <ul class="small">
                        <li>Percentage increases applied to estimated base revenues</li>
                        <li>Monthly targets multiplied by 12</li>
                        <li>Quarterly targets multiplied by 4</li>
                        <li>One-time targets included at full value</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Base values for percentage-based models
            const baseValues = {
                model1: 80,    // ₹80L base revenue for 12% increase
                model3: 72,    // ₹72L base revenue for 20% lift
                model4: 48     // ₹48L base revenue for 15% faster GTM
            };
            
            // Initialize chart
            const revenueCtx = document.getElementById('revenueChart').getContext('2d');
            const revenueChart = new Chart(revenueCtx, {
                type: 'doughnut',
                data: {
                    labels: [
                        'Site Assessment', 'Digital Marketplace', 'Sales Incentives', 
                        'Technical Planning', 'Structured Education', 'Subscription Plans',
                        'DIY Tools', 'Partner Program', 'Data Analytics', 'OEM White-Labeling',
                        'Certification Academy'
                    ],
                    datasets: [{
                        data: [9.6, 50, 14.4, 7.2, 60, 120, 24, 15, 20, 100, 12],
                        backgroundColor: [
                            '#4361ee', '#4cc9f0', '#7209b7', '#f72585', '#3a0ca3',
                            '#4895ef', '#560bad', '#b5179e', '#f72585', '#480ca8',
                            '#4cc9f0'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                boxWidth: 12,
                                font: {
                                    size: 10
                                }
                            }
                        }
                    }
                }
            });
            
            // Function to format currency
            function formatCurrency(value, isAnnual = false) {
                if (value >= 100 || isAnnual) {
                    return `₹${value.toFixed(2)} L`;
                } else {
                    return `₹${value.toFixed(2)}`;
                }
            }
            
            // Function to calculate model values
            function calculateModelValue(modelId, inputValue) {
                switch(modelId) {
                    case 'model1':
                        return baseValues.model1 * (inputValue / 100);
                    case 'model2':
                        return parseFloat(inputValue);
                    case 'model3':
                        return baseValues.model3 * (inputValue / 100);
                    case 'model4':
                        return baseValues.model4 * (inputValue / 100);
                    case 'model5':
                        return parseFloat(inputValue) * 12;
                    case 'model6':
                        return parseFloat(inputValue) * 12;
                    case 'model7':
                        return parseFloat(inputValue) * 12;
                    case 'model8':
                        return parseFloat(inputValue);
                    case 'model9':
                        return parseFloat(inputValue);
                    case 'model10':
                        return parseFloat(inputValue);
                    case 'model11':
                        return parseFloat(inputValue) * 4;
                    default:
                        return 0;
                }
            }
            
            // Function to update all values
            function updateValues() {
                let total = 0;
                const values = [];
                
                // Calculate values for each model
                for (let i = 1; i <= 11; i++) {
                    const modelId = `model${i}`;
                    const inputElement = document.getElementById(`${modelId}-input`);
                    const valueElement = document.getElementById(`${modelId}-value`);
                    
                    const inputValue = parseFloat(inputElement.value);
                    const modelValue = calculateModelValue(modelId, inputValue);
                    
                    values.push(modelValue);
                    total += modelValue;
                    
                    valueElement.textContent = formatCurrency(modelValue, true);
                }
                
                // Update total values
                document.getElementById('total-value').innerHTML = `<strong>${formatCurrency(total, true)}</strong>`;
                document.getElementById('summary-value').textContent = `₹${(total / 100).toFixed(2)} Cr`;
                
                // Update chart
                revenueChart.data.datasets[0].data = values;
                revenueChart.update();
            }
            
            // Add event listeners to all input fields
            for (let i = 1; i <= 11; i++) {
                const modelId = `model${i}`;
                const inputElement = document.getElementById(`${modelId}-input`);
                
                inputElement.addEventListener('input', updateValues);
            }
            
            // Reset button functionality
            document.getElementById('resetBtn').addEventListener('click', function() {
                document.getElementById('model1-input').value = 12;
                document.getElementById('model2-input').value = 50;
                document.getElementById('model3-input').value = 20;
                document.getElementById('model4-input').value = 15;
                document.getElementById('model5-input').value = 5;
                document.getElementById('model6-input').value = 10;
                document.getElementById('model7-input').value = 2;
                document.getElementById('model8-input').value = 15;
                document.getElementById('model9-input').value = 20;
                document.getElementById('model10-input').value = 100;
                document.getElementById('model11-input').value = 3;
                
                updateValues();
            });
            
            // Initial calculation
            updateValues();
        });
    </script>
</body>
</html>